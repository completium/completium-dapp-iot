{"version":3,"sources":["settings.js","dapp.js","components/WalletButton.js","components/HeaderBar.js","components/Bulb.js","components/Footer.js","components/QRPopup.js","components/Account.js","components/Switch.js","components/SnackMsg.js","App.js","reportWebVitals.js","index.js"],"names":["contractAddress","appName","constate","React","useState","wallet","tezos","accountPkh","setState","ready","Boolean","useEffect","ThanosWallet","onAvailabilityChange","available","connect","useCallback","network","opts","a","Error","tzs","toTezos","pkh","alert","message","v","DAppProvider","useWallet","useTezos","useAccountPkh","useReady","useConnect","WalletButton","props","Button","variant","color","disableElevation","size","style","position","right","onClick","handleConnect","Link","href","rel","underline","backgroundColor","fontWeight","HeaderBar","visible","useMediaQuery","dark","theme","palette","type","AppBar","boxShadow","opacity","Toolbar","target","height","Typography","fontFamily","Grid","container","justify","alignItems","item","visibility","textAlign","appTitle","istouch","component","Bulb","state","switch","dateofstop","Date","now","timer","setTimeout","loadSwitchContent","clearTimeout","Container","maxWidth","marginTop","backgroundImage","backgroundRepeat","backgroundPosition","direction","Chip","label","onDelete","deleteIcon","Footer","heigh","minHeight","flexGrow","QRPopup","Dialog","open","close","paddingBottom","value","url","includeMargin","bgColor","background","paper","fgColor","common","black","white","Account","address","loadBalance","tz","getBalance","bal","setBalance","format","toString","balance","Paper","paddingLeft","paddingRight","spacing","xs","LinearProgress","getDurationLabel","x","i","sec","Math","floor","SwitchOn","duration","setDuration","disable","setDisable","padding","Slider","defaultValue","aria-labelledby","step","marks","min","max","valueLabelDisplay","onChangeCommitted","event","innerText","disabled","rate","toFixed","marginLeft","marginBottom","at","then","contract","price","console","log","methods","start","UnitValue","send","amount","fee","op","opHash","openSnack","receipt","closeSnack","resetBalance","calculateTimeLeft","difference","timeLeft","days","hours","minutes","seconds","Charging","setTimeLeft","percentComplete","dateofstart","timerComponents","Object","keys","forEach","interval","push","length","d","setBCSwitch","user","CircularProgress","left","thickness","top","margin","interrupt","Busy","handleInterrupt","ConnectToWallet","Switch","accountAddress","qropen","setQROpen","charging","Divider","CardActionArea","Alert","elevation","SnackMsg","Snackbar","severity","secondary","main","isTouchDevice","navigator","maxTouchPoints","document","documentElement","PageRouter","bcSwitch","viewSnack","setViewSnack","useMemo","createMuiTheme","primary","light","contrastText","Tezos","TezosToolkit","storage","cstorage","parseInt","ThemeProvider","CssBaseline","App","Suspense","fallback","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dc468460.chunk.js","sourcesContent":["export const contractAddress = \"KT1CxHBiCSvmXn9kXCbhPfdGDAggGG9ktQEX\"\n\nexport const githubUrl = \"https://github.com/edukera/completium-dapp-ideabox\"\n\nexport const appTitle = \"Switch on a Connected Object!\"\n\nexport const network = \"delphinet\"\n\nexport const appName = \"IotCorp.\"\n\nexport const objectURL = 'http://edukera.github.io/completium-dapp-iot'\n\nexport const nodeURL = 'https://delphinet-tezos.giganode.io'\n","import React from 'react';\nimport constate from 'constate';\nimport { ThanosWallet } from '@thanos-wallet/dapp';\n\nexport const [\n  DAppProvider,\n  useWallet,\n  useTezos,\n  useAccountPkh,\n  useReady,\n  useConnect,\n] = constate(\n  useDApp,\n  (v) => v.wallet,\n  (v) => v.tezos,\n  (v) => v.accountPkh,\n  (v) => v.ready,\n  (v) => v.connect\n);\n\nfunction useDApp({ appName }) {\n  const [{ wallet, tezos, accountPkh }, setState] = React.useState(() => ({\n    wallet: null,\n    tezos: null,\n    accountPkh: null,\n  }));\n\n  const ready = Boolean(tezos);\n\n  React.useEffect(() => {\n    return ThanosWallet.onAvailabilityChange((available) => {\n      setState({\n        wallet: available ? new ThanosWallet(appName) : null,\n        tezos: null,\n        accountPkh: null,\n      });\n    });\n  }, [setState, appName]);\n\n  const connect = React.useCallback(\n    async (network, opts) => {\n      try {\n        if (!wallet) {\n          throw new Error('Thanos Wallet not available');\n        }\n        await wallet.connect(network, opts);\n        const tzs = wallet.toTezos();\n        const pkh = await tzs.wallet.pkh();\n        setState({\n          wallet,\n          tezos: tzs,\n          accountPkh: pkh,\n        });\n      } catch (err) {\n        alert(`Failed to connect ThanosWallet: ${err.message}`);\n      }\n    },\n    [setState, wallet]\n  );\n\n  return {\n    wallet,\n    tezos,\n    accountPkh,\n    ready,\n    connect,\n  };\n}\n\nexport function useOnBlock(tezos, callback) {\n  const blockHashRef = React.useRef();\n\n  React.useEffect(() => {\n    let sub;\n    spawnSub();\n    return () => sub.close();\n\n    function spawnSub() {\n      sub = tezos.stream.subscribe('head');\n\n      sub.on('data', (hash) => {\n        if (blockHashRef.current && blockHashRef.current !== hash) {\n          callback(hash);\n        }\n        blockHashRef.current = hash;\n      });\n      sub.on('error', (err) => {\n        if (process.env.NODE_ENV === 'development') {\n          console.error(err);\n        }\n        sub.close();\n        spawnSub();\n      });\n    }\n  }, [tezos, callback]);\n}","import React from 'react';\nimport { useReady, useWallet } from '../dapp';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\n\nconst WalletButton = (props) => {\n  const ready = useReady();\n  const wallet = useWallet();\n  return ((ready) ? (\n        <div></div>\n      ) :(wallet ? (\n          <Button variant=\"contained\" color=\"secondary\"\n            disableElevation\n            size=\"small\"\n            style={{ position: 'absolute', right: '6%' }}\n            onClick={props.handleConnect}>\n            connect to wallet\n          </Button>\n        ):(\n          <Link href=\"https://thanoswallet.com/\" rel=\"noopener\" underline=\"none\" style={{\n            position: 'absolute',\n            right: '1%'\n          }}>\n            <Button variant=\"contained\" size=\"small\" disableElevation\n              style={{\n                backgroundColor: '#ed8936',\n                color: 'white',\n                fontWeight: 'bold',\n                }}>\n              Install Thanos\n            </Button>\n          </Link>\n      )));\n}\n\nexport default WalletButton;\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport '../index.css';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Grid from '@material-ui/core/Grid';\nimport WalletButton from './WalletButton';\nimport Button from '@material-ui/core/Button';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\n\nconst HeaderBar = (props) => {\n  const minWidth = useMediaQuery('(min-width:600px)');\n  var visible = minWidth?'visible':'hidden';\n  var dark = props.theme.palette.type === 'dark';\n  return (\n    <AppBar position=\"static\" color={dark?\"default\":\"secondary\"} style={{\n      boxShadow: \"none\",\n      opacity: 1 }}>\n      <Toolbar>\n        <a href=\"https://edukera.github.io/completium-landing/index.html\" target=\"_blank\" style={{ color: 'white', height: '32px' }}>\n          <Typography variant=\"h6\" style={{ position : 'absolute', fontFamily : 'Alegreya Sans SC, sans-serif' }}>\n            Completium\n          </Typography>\n        </a>\n        <Grid container justify=\"center\" alignItems=\"center\">\n          <Grid item>\n            <Typography variant=\"h6\" style={{\n              visibility: visible,\n              textAlign: 'center',\n              }}>\n              {props.appTitle}\n            </Typography>\n          </Grid>\n        </Grid>\n        { (props.istouch) ? (\n            <div></div>\n          ) : (\n            <WalletButton />\n          )\n        }\n        <a href=\"https://edukera.github.io/completium-landing/docs/dapp-miles/miles-use-case1\" target=\"_blank\">\n          <Button style={{ color: 'white' }} component=\"span\">\n            <HelpOutlineIcon/>\n          </Button>\n        </a>\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nexport default HeaderBar","import React from 'react';\nimport Container from '@material-ui/core/Container';\nimport Chip from '@material-ui/core/Chip';\nimport { contractAddress } from '../settings.js';\nimport DoneIcon from '@material-ui/icons/Check';\nimport Grid from '@material-ui/core/Grid';\n\nconst Bulb = (props) => {\n  const state = (props.switch.dateofstop > Date.now())?'on':'off';\n  React.useEffect(() => {\n    const timer=setTimeout(() => {\n      props.loadSwitchContent()\n    }, 500);\n    // Clear timeout if the component is unmounted\n    return () => {\n      clearTimeout(timer);\n    }\n  });\n  return (\n    <Container maxWidth=\"md\" style={{\n        marginTop: 50,\n        backgroundImage : \"url(\" + process.env.PUBLIC_URL + '/bulb'+ state +'.svg)',\n        backgroundRepeat  : 'no-repeat',\n        backgroundPosition: 'right 50% top 10%',\n        height: 410}}>\n        <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\" style={{}}>\n          <Grid>\n            <Chip\n              label={contractAddress}\n              color={ \"secondary\" }\n              onDelete={() => {}}\n              deleteIcon={  <DoneIcon /> }\n              variant=\"outlined\"\n              style={{ marginTop: 350 }}\n            />\n          </Grid>\n        </Grid>\n    </Container>\n  )\n}\n\nexport default Bulb","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport '../index.css';\nimport { Grid } from '@material-ui/core';\n\nconst Footer = (props) => {\n    return (\n      <AppBar position=\"static\" color=\"default\" style={{ boxShadow: \"none\", opacity: 1, heigh: 300 }}>\n        <Toolbar style={{ minHeight: 256 }}>\n          <Grid container justify=\"center\" alignItems=\"center\">\n            <Grid item>\n              <Typography variant=\"body2\" color=\"textSecondary\" style={{ flexGrow : 1 }} style={{\n                textAlign: 'center'\n              }}>\n                @copyright {props.appName} 2021\n              </Typography>\n            </Grid>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n    )\n  }\n\n  export default Footer","import React from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport QRcode from 'qrcode.react';\n\nconst QRPopup = (props) => {\n  return (\n    <Dialog open={props.open} onClick={props.close} >\n      <MuiDialogTitle>Scan Object's QR code</MuiDialogTitle>\n      <MuiDialogContent style={{ paddingBottom: 20 }}>\n        <QRcode\n          value={props.url}\n          size={300}\n          includeMargin={false}\n          bgColor={props.theme.palette.background.paper}\n          fgColor={ (props.theme.palette.type === 'light')? props.theme.palette.common.black:props.theme.palette.common.white}\n        />\n      </MuiDialogContent>\n    </Dialog>)\n}\n\nexport default QRPopup","import React from 'react';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { useAccountPkh, useTezos } from '../dapp';\n\nconst Account = (props) => {\n  const address = useAccountPkh();\n  const tezos = useTezos();\n\n  const loadBalance = React.useCallback(async () => {\n    const bal = await tezos.tz.getBalance(address);\n    props.setBalance(tezos.format('mutez', 'tz', bal).toString());\n  }, [tezos, address, props.setBalance]);\n\n  // Load initial\n  if (props.balance === null) {\n    loadBalance();\n  }\n\n  return (\n      <Container style={{ height: '300px'}}>\n        <Container style={{ height: '40px' }}></Container>\n        <Paper style={{ opacity: 0.8, paddingLeft: 18, paddingRight: 28 }}>\n          { (false) ? (\n            <Grid container direction=\"row\" alignItems=\"center\" spacing={2} style={{ height: 64 }}>\n              <Grid item xs={12}>\n                <LinearProgress color=\"secondary\" />\n              </Grid>\n            </Grid>\n          ) : (\n            <Grid container direction=\"row\" alignItems=\"center\" spacing={2}>\n              <Grid item xs={2} direction=\"row\">\n                <Typography color=\"textSecondary\" style={{ textAlign: 'right' }}>Account :</Typography>\n              </Grid>\n              <Grid item xs={4}>\n                <Typography style={{\n                  fontFamily: 'Courier Prime, monospace',\n                }}>{address}</Typography>\n              </Grid>\n              {\n                <Grid item xs={6}>\n                  <Grid container direction=\"row\" justify=\"flex-end\" spacing={2}>\n                    <Grid item>\n                      <Typography color=\"textSecondary\">Balance:</Typography>\n                    </Grid>\n                    { (props.balance === null)? (\n                        <LinearProgress color=\"secondary\"></LinearProgress>\n                      ) : (\n                        <Grid item>\n                          <Typography>{props.balance} XTZ</Typography>\n                        </Grid>\n                      )}\n                  </Grid>\n                </Grid>\n              }\n            </Grid>\n          )}\n        </Paper>\n      </Container>\n    )\n}\n\nexport default Account","import React, { useEffect, useState } from \"react\";\nimport Footer from './Footer';\nimport Container from '@material-ui/core/Container';\nimport { appName, objectURL } from '../settings.js';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { Button, CardActionArea, CircularProgress, Divider, Typography } from '@material-ui/core';\nimport RoomIcon from '@material-ui/icons/Room';\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\nimport { contractAddress } from '../settings';\nimport QueryBuilderIcon from '@material-ui/icons/QueryBuilder';\nimport Slider from '@material-ui/core/Slider';\nimport QRPopup from './QRPopup';\nimport Account from './Account';\nimport { useTezos, useReady, useConnect, useAccountPkh } from '../dapp';\nimport { UnitValue } from '@taquito/taquito';\n\nconst getDurationLabel = (x,i) => {\n  var min = Math.floor(x);\n  var sec = (2*x) % 2;\n  var lbl = min.toString() + ((sec === 0)? '': '½');\n  return lbl;\n}\n\nconst SwitchOn = (props) => {\n  const tezos = useTezos();\n  const [duration, setDuration] = useState(0);\n  const [disable, setDisable] = useState(false);\n  const handleStart = (event) => {\n    tezos.wallet.at(contractAddress).then(contract => {\n      var price = (props.switch.rate * duration).toFixed(6);\n      console.log(`calling start with ${price} XTZ`);\n      contract.methods.start(UnitValue).send({ amount : price, fee : '0.1' }).then( op => {\n        var start = Date.now();\n        console.log(`waiting for ${op.opHash} to be confirmed`);\n        setDisable(true);\n        props.openSnack();\n        op.receipt().then(() => {\n          setDisable(false);\n          props.closeSnack();\n          props.resetBalance();\n          props.loadSwitchContent();\n        });\n      })\n    });\n  }\n  const handleDuration = (event) => {\n    setDuration(event.target.innerText)\n  }\n  return (\n    <Grid container\n      direction=\"row\"\n      justify=\"center\"\n      alignItems=\"center\"\n      spacing={2}\n      style={{ padding: 12, paddingLeft: 20, marginTop: 40 }}>\n      <Grid item xs={1}>\n        <QueryBuilderIcon />\n      </Grid>\n      <Grid item xs={11} style={{ paddingRight: 30 }}>\n        <Slider\n          defaultValue={0}\n          aria-labelledby=\"discrete-slider-small-steps\"\n          step={0.5}\n          marks\n          min={0}\n          max={15}\n          valueLabelDisplay='on'\n          color='secondary'\n          onChangeCommitted={handleDuration}\n          disabled={disable}\n        />\n      </Grid>\n      <Grid item xs={12} style={{ textAlign: 'center', marginTop: 0 }}>\n        <Typography color=\"textSecondary\">Price for {getDurationLabel(duration)} minute(s):</Typography>\n      </Grid>\n      <Grid item xs={12} style={{ textAlign: 'center' }}>\n        <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n          <Grid item>\n            <Typography variant='h6'>{ (props.switch.rate * duration).toFixed(2) }</Typography>\n          </Grid>\n          <Grid item>\n            <Typography color=\"textSecondary\" style={{ marginLeft: 10}}>XTZ</Typography>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item style={{ marginBottom: 20, marginTop: 36 }}>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          disableElevation\n          onClick={handleStart}\n          disabled={disable}\n        >\n          switch on\n        </Button>\n      </Grid>\n    </Grid>)\n}\n\nconst calculateTimeLeft = (difference) => {\n  let timeLeft = {};\n  if (difference > 0) {\n    timeLeft = {\n      days: Math.floor(difference / (1000 * 60 * 60 * 24)),\n      hours: Math.floor((difference / (1000 * 60 * 60)) % 24),\n      minutes: Math.floor((difference / 1000 / 60) % 60),\n      seconds: Math.floor((difference / 1000) % 60)\n    };\n  }\n  return timeLeft;\n}\n\nconst Charging = (props) => {\n  const tezos = useTezos();\n  const [timeLeft,setTimeLeft] = useState(calculateTimeLeft(props.dateofstop - Date.now()));\n  const [disable, setDisable] = useState(false);\n  useEffect(() => {\n    const timer=setTimeout(() => {\n      setTimeLeft(calculateTimeLeft(props.dateofstop - Date.now()));\n    }, 1000);\n    // Clear timeout if the component is unmounted\n    return () => {\n      clearTimeout(timer);\n    }\n  });\n  const percentComplete = Math.floor(100 * (Date.now() - props.dateofstart) / (props.dateofstop - props.dateofstart));\n  const timerComponents = [];\n  Object.keys(timeLeft).forEach((interval) => {\n    if (!timeLeft[interval]) {\n      return;\n    }\n    timerComponents.push(\n      <span>\n        {timeLeft[interval]} {interval}{\" \"}\n      </span>\n    );\n  })\n  const handleInterrupt = () => {\n    tezos.wallet.at(contractAddress).then(contract => {\n      contract.methods.interrupt(UnitValue).send().then( op => {\n        var d = Date.now();\n        console.log(`waiting for ${op.opHash} to be confirmed`);\n        setDisable(true);\n        props.openSnack();\n        op.receipt().then(() => {\n          setDisable(false);\n          props.closeSnack();\n          props.resetBalance();\n          props.setBCSwitch({\n            dateofstart: d,\n            dateofstop: d,\n            rate: props.switch.rate,\n            user: props.switch.user\n          });\n        });\n      })\n    });\n  }\n  if (timerComponents.length === 0) {\n    var d = Date.now();\n    props.setBCSwitch({\n      dateofstart: d,\n      dateofstop: d,\n      rate: props.switch.rate,\n      user: props.switch.user\n    });\n  }\n\n  return (\n    <Grid container\n      direction=\"row\"\n      justify=\"center\"\n      alignItems=\"center\"\n      spacing={2}\n      style={{ padding: 12, paddingLeft: 20, marginTop: 0 }}>\n      <Grid item xs={12} style={{ textAlign: 'center' }}>\n        <CircularProgress\n        style={{ position: 'relative', left: '50px' }}\n          variant='static'\n          value='100'\n          size={100}\n          thickness={5}\n          color='primary'>\n        </CircularProgress>\n        <CircularProgress\n          style={{ position: 'relative', left: '-50px' }}\n          variant='static'\n          value={percentComplete}\n          size={100}\n          thickness={5}\n          color=\"secondary\">\n        </CircularProgress>\n        <Typography variant='h6' color='secondary' style={{ position: 'relative', top: '-70px', left: '5px' }}>\n          {percentComplete}%\n        </Typography>\n      </Grid>\n      <Grid item xs={12} style={{ textAlign: 'center' }}>\n        <Typography>\n          Time remaining: {timerComponents.length ? timerComponents : <span>Time's up!</span>}\n        </Typography>\n      </Grid>\n      <Grid item>\n        <Button\n          style={{ margin: 20 }}\n          variant=\"outlined\"\n          color=\"inherit\"\n          disableElevation\n          onClick={handleInterrupt}\n          disabled={disable}\n        >\n          interrupt\n        </Button>\n      </Grid>\n    </Grid>\n  )\n}\n\nconst Busy = (props) => {\n  const [timeLeft,setTimeLeft] = useState(calculateTimeLeft(props.dateofstop - Date.now()));\n  useEffect(() => {\n    const timer=setTimeout(() => {\n      setTimeLeft(calculateTimeLeft(props.dateofstop - Date.now()));\n    }, 1000);\n    // Clear timeout if the component is unmounted\n    return () => {\n      clearTimeout(timer);\n    }\n  });\n  const timerComponents = [];\n  Object.keys(timeLeft).forEach((interval) => {\n    if (!timeLeft[interval]) {\n      return;\n    }\n    timerComponents.push(\n      <span>\n        {timeLeft[interval]} {interval}{\" \"}\n      </span>\n    );\n  })\n  const handleInterrupt = () => {\n    var d = Date.now();\n    props.setBCSwitch({\n      dateofstart: d,\n      dateofstop: d,\n      rate: props.switch.rate,\n      user: props.switch.user\n    });\n  }\n  if (timerComponents.length === 0) {\n    handleInterrupt();\n  }\n  return (\n    <Container style={{ height: 301 }}>\n      <Grid container\n        direction=\"row\"\n        justify=\"center\"\n        alignItems=\"center\"\n        spacing={2}\n        style={{ padding: 12, paddingLeft: 20, marginTop: 0 }}>\n        <Grid item xs={12} style={{ textAlign: 'center' }}>\n          <Typography color=\"textSecondary\">Object has been switched on by:</Typography>\n        </Grid>\n        <Grid item xs={12} style={{ textAlign: 'center' }}>\n          <Typography style={{ fontFamily: 'Courier Prime, monospace' }}>\n            {props.user}\n          </Typography>\n        </Grid>\n        <Grid item xs={12} style={{ textAlign: 'center' }}>\n          <Typography color=\"textSecondary\">\n            Time remaining: {timerComponents.length ? timerComponents : <span>Time's up!</span>}\n          </Typography>\n        </Grid>\n        <Grid item></Grid>\n      </Grid>\n    </Container>\n  )\n}\n\nconst ConnectToWallet = (props) => {\n  return (\n    <Container style={{ height: 301, backgroundImage : \"url(\" + process.env.PUBLIC_URL + '/wifiplug.svg)',\n        backgroundRepeat  : 'no-repeat',\n        backgroundPosition: 'right 50% top 50%', }}>\n      <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ height: 301 }}>\n        <Typography color=\"textSecondary\">Connect to Wallet to interact with object.</Typography>\n      </Grid>\n    </Container>\n  )\n}\n\nconst Switch = props => {\n  const ready = useReady();\n  const accountAddress = useAccountPkh();\n  const [qropen, setQROpen]   = React.useState(false);\n  const [balance, setBalance] = React.useState(null);\n\n  const handleOpenQR = (event) => {\n    setQROpen(true);\n  }\n  const handleCloseQR = (event) => {\n    setQROpen(false);\n  }\n  const resetBalance = () => {\n    setBalance(null);\n  }\n  const duration = props.switch.dateofstop - props.switch.dateofstart;\n  const charging = (props.switch.dateofstop > Date.now()) && duration > 0;\n  return (<div>\n      <Container maxWidth=\"md\" style={{\n        height: 120}}>\n        { (ready)? (<Account balance={balance} setBalance={setBalance}/>):(<div />) }\n      </Container>\n      <Container maxWidth=\"sm\" style={{ marginBottom: 150 }}>\n        <Paper>\n          <Grid container\n            direction=\"row\"\n            justify=\"center\"\n            alignItems=\"center\"\n            spacing={2}\n            style={{ padding: 12, paddingLeft: 20 }}>\n            <Grid item xs={1}>\n              <RoomIcon />\n            </Grid>\n            <Grid item xs={11}>\n              <Typography\n              style={{\n                    fontFamily: 'Courier Prime, monospace',\n              }}>\n              {contractAddress}</Typography>\n            </Grid>\n            <Grid item xs={1}>\n              <LocalOfferIcon />\n            </Grid>\n            <Grid item xs={11}>\n              <Grid container direction=\"row\" spacing={1}>\n                <Grid item>\n                  <Typography>{(props.switch.rate).toFixed(2)}</Typography>\n                </Grid>\n                <Grid item>\n                  <Typography color=\"textSecondary\"> XTZ / minute</Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n          {/* _______________________________________________________ */}\n          <Divider></Divider>\n          { (ready)? (\n              (charging)? (\n                (accountAddress === props.switch.user) ? (\n                  <Charging\n                    dateofstart={props.switch.dateofstart}\n                    dateofstop={props.switch.dateofstop}\n                    switch={props.switch}\n                    setBCSwitch={props.setBCSwitch}\n                    openSnack={props.openSnack}\n                    closeSnack={props.closeSnack}\n                    resetBalance={resetBalance}\n                  />\n                ) : (\n                  <Busy\n                    user={props.switch.user}\n                    dateofstop={props.switch.dateofstop}\n                    switch={props.switch}\n                    setBCSwitch={props.setBCSwitch}\n                  />\n                )\n              ) : (\n                <SwitchOn\n                  duration={duration}\n                  switch={props.switch}\n                  loadSwitchContent={props.loadSwitchContent}\n                  openSnack={props.openSnack}\n                  closeSnack={props.closeSnack}\n                  resetBalance={resetBalance}\n                />\n              )\n            ) : (\n              <ConnectToWallet />\n            )\n          }\n          {/* _______________________________________________________ */}\n          <Divider></Divider>\n          <CardActionArea onClick={handleOpenQR}>\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={2} style={{ padding: 22 }}>\n              <Grid item xs={2}>\n                <Container style={{\n                  height: 50,\n                  backgroundImage : \"url(\" + process.env.PUBLIC_URL + '/qr' + ((props.theme.palette.type === 'dark')?'white':'black') + '.svg)',\n                  backgroundRepeat  : 'no-repeat',\n                }} />\n              </Grid>\n              <Grid item xs={10}>\n                <Typography>Click here to get the Object on your Mobile Device.</Typography>\n              </Grid>\n            </Grid>\n          </CardActionArea>\n        </Paper>\n      </Container>\n    <QRPopup url={objectURL} open={qropen} close={handleCloseQR} theme={props.theme}/>\n    <Footer appName={appName}></Footer>\n  </div>)\n}\n\nexport default Switch","import React from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst SnackMsg = (props) => {\n    return (\n      <Snackbar open={props.open} >\n        <Alert severity=\"info\" style={{\n            backgroundColor: props.theme.palette.secondary.main\n        }}>\n          Waiting for operation confirmation ...\n        </Alert>\n      </Snackbar>)\n}\n\nexport default SnackMsg","import React from 'react';\nimport './App.css';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { appTitle, nodeURL } from './settings.js';\nimport HeaderBar from './components/HeaderBar';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Bulb from './components/Bulb';\nimport Switch from './components/Switch';\nimport { TezosToolkit } from '@taquito/taquito';\nimport { contractAddress, appName, network } from './settings';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { DAppProvider, useReady, useConnect, useAccountPkh } from './dapp';\nimport SnackMsg from './components/SnackMsg';\n\nfunction App() {\n  return (\n    <DAppProvider appName={appName}>\n      <React.Suspense fallback={null}>\n        <PageRouter />\n      </React.Suspense>\n    </DAppProvider>\n  );\n}\n\nfunction isTouchDevice () {\n  return (navigator.maxTouchPoints || 'ontouchstart' in document.documentElement);\n}\n\nfunction PageRouter () {\n  var ready = useReady();\n  var connect = useConnect();\n  const [bcSwitch, setBCSwitch] = React.useState(null);\n  const [viewSnack, setViewSnack] = React.useState(false);\n  const prefersDarkMode = false /*useMediaQuery('(prefers-color-scheme: dark)')*/;\n  const theme = React.useMemo(\n    () =>\n      createMuiTheme({\n        palette: {\n          type: prefersDarkMode ? 'dark' : 'light',\n          primary: {\n            light: '#F5F5F5',\n            main: '#D3D3D3',\n            dark: '#A9A9A9'\n          },\n          secondary: {\n            light: '#81c784',\n            main: '#4caf50',\n            dark: '#388e3c',\n            contrastText: '#fff',\n          }\n        },\n      }),\n    [prefersDarkMode],\n  );\n  const handleConnect = React.useCallback(async () => {\n    try {\n      await connect(network);\n    } catch (err) {\n      alert(err.message);\n    };\n  }, [connect]);\n  async function loadSwitchContent () {\n    try {\n      const Tezos = new TezosToolkit('https://delphinet-tezos.giganode.io');\n      var contract  = await Tezos.contract.at(contractAddress);\n      var cstorage   = await contract.storage();\n      var dateofstart = new Date(cstorage.dateofstart);\n      var dateofstop = new Date(cstorage.dateofstop);\n      var rate = parseInt(0+cstorage.rate[4])/parseInt(0+cstorage.rate[3]);\n      var user = cstorage.user;\n      setBCSwitch({\n        dateofstart: dateofstart,\n        dateofstop : dateofstop,\n        rate: rate,\n        user: user,\n      });\n    } catch (error) {\n      console.log(`Error: ${error}`);\n    }\n  }\n  if (bcSwitch === null) {\n    loadSwitchContent();\n  }\n  const openSnack = () => {\n    setViewSnack(true);\n  }\n  const closeSnack = () => {\n    setViewSnack(false);\n  }\n  return (\n    <ThemeProvider theme={theme}>\n    <CssBaseline/>\n    <HeaderBar theme={theme} appTitle={appTitle} handleConnect={handleConnect} istouch={isTouchDevice()}/>\n    { (bcSwitch === null)? (\n        <LinearProgress color=\"secondary\"></LinearProgress>\n      ) : (\n      (isTouchDevice())? (\n        <Bulb loadSwitchContent={loadSwitchContent} switch={bcSwitch}/>\n      ) : (\n        <Switch\n          ready={ready}\n          theme={theme}\n          switch={bcSwitch}\n          loadSwitchContent={loadSwitchContent}\n          setBCSwitch={setBCSwitch}\n          openSnack={openSnack}\n          closeSnack={closeSnack}\n        />\n    ))}\n    <SnackMsg open={viewSnack} theme={theme}/>\n    </ThemeProvider>\n    )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}