{"version":3,"sources":["settings.js","dapp.js","components/WalletButton.js","components/HeaderBar.js","components/Bulb.js","components/Footer.js","components/QRPopup.js","components/Account.js","components/Switch.js","components/SnackMsg.js","App.js","reportWebVitals.js","index.js"],"names":["contractAddress","constate","appName","React","useState","wallet","tezos","accountPkh","setState","ready","Boolean","useEffect","ThanosWallet","onAvailabilityChange","available","connect","useCallback","network","opts","a","Error","tzs","toTezos","pkh","alert","message","v","useWallet","useTezos","useAccountPkh","useReady","useConnect","WalletButton","props","Button","variant","color","disableElevation","size","style","position","right","onClick","handleConnect","Link","href","rel","underline","backgroundColor","fontWeight","HeaderBar","visible","useMediaQuery","dark","theme","palette","type","AppBar","boxShadow","opacity","Toolbar","target","height","Typography","fontFamily","Grid","container","justify","alignItems","item","visibility","textAlign","appTitle","istouch","component","Bulb","state","switch","dateofstop","Date","now","timer","setTimeout","loadSwitchContent","clearTimeout","Container","maxWidth","marginTop","backgroundImage","backgroundRepeat","backgroundPosition","direction","Chip","label","onDelete","deleteIcon","Footer","heigh","minHeight","flexGrow","QRPopup","Dialog","open","close","paddingBottom","value","url","includeMargin","bgColor","background","paper","fgColor","common","black","white","Account","account","loadBalance","setBalance","balance","Paper","paddingLeft","paddingRight","spacing","xs","LinearProgress","getDurationLabel","x","i","sec","Math","floor","toString","SwitchOn","duration","setDuration","disable","padding","Slider","defaultValue","aria-labelledby","step","marks","min","max","valueLabelDisplay","onChangeCommitted","event","innerText","disabled","rate","toFixed","marginLeft","marginBottom","calculateTimeLeft","difference","timeLeft","days","hours","minutes","seconds","Charging","setTimeLeft","percentComplete","dateofstart","timerComponents","Object","keys","forEach","interval","push","length","d","setBCSwitch","user","CircularProgress","left","thickness","top","margin","Busy","handleInterrupt","ConnectToWallet","Switch","accountAddress","qropen","setQROpen","resetBalance","charging","Divider","openSnack","closeSnack","CardActionArea","Alert","elevation","SnackMsg","Snackbar","severity","secondary","main","isTouchDevice","navigator","maxTouchPoints","document","documentElement","PageRouter","bcSwitch","viewSnack","setViewSnack","useMemo","createMuiTheme","primary","light","contrastText","ThemeProvider","CssBaseline","App","Suspense","fallback","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e1e19733.chunk.js","sourcesContent":["export const contractAddress = \"KT1CxHBiCSvmXn9kXCbhPfdGDAggGG9ktQEX\"\n\nexport const githubUrl = \"https://github.com/edukera/completium-dapp-ideabox\"\n\nexport const appTitle = \"Switch on a Connected Object!\"\n\nexport const network = \"delphinet\"\n\nexport const appName = \"IotCorp.\"\n\nexport const objectURL = 'http://edukera.github.io/completium-dapp-iot'\n\nexport const nodeURL = 'https://delphinet-tezos.giganode.io'\n","import React from 'react';\nimport constate from 'constate';\nimport { ThanosWallet } from '@thanos-wallet/dapp';\n\nexport const [\n  DAppProvider,\n  useWallet,\n  useTezos,\n  useAccountPkh,\n  useReady,\n  useConnect,\n] = constate(\n  useDApp,\n  (v) => v.wallet,\n  (v) => v.tezos,\n  (v) => v.accountPkh,\n  (v) => v.ready,\n  (v) => v.connect\n);\n\nfunction useDApp({ appName }) {\n  const [{ wallet, tezos, accountPkh }, setState] = React.useState(() => ({\n    wallet: null,\n    tezos: null,\n    accountPkh: null,\n  }));\n\n  const ready = Boolean(tezos);\n\n  React.useEffect(() => {\n    return ThanosWallet.onAvailabilityChange((available) => {\n      setState({\n        wallet: available ? new ThanosWallet(appName) : null,\n        tezos: null,\n        accountPkh: null,\n      });\n    });\n  }, [setState, appName]);\n\n  const connect = React.useCallback(\n    async (network, opts) => {\n      try {\n        if (!wallet) {\n          throw new Error('Thanos Wallet not available');\n        }\n        await wallet.connect(network, opts);\n        const tzs = wallet.toTezos();\n        const pkh = await tzs.wallet.pkh();\n        setState({\n          wallet,\n          tezos: tzs,\n          accountPkh: pkh,\n        });\n      } catch (err) {\n        alert(`Failed to connect ThanosWallet: ${err.message}`);\n      }\n    },\n    [setState, wallet]\n  );\n\n  return {\n    wallet,\n    tezos,\n    accountPkh,\n    ready,\n    connect,\n  };\n}\n\nexport function useOnBlock(tezos, callback) {\n  const blockHashRef = React.useRef();\n\n  React.useEffect(() => {\n    let sub;\n    spawnSub();\n    return () => sub.close();\n\n    function spawnSub() {\n      sub = tezos.stream.subscribe('head');\n\n      sub.on('data', (hash) => {\n        if (blockHashRef.current && blockHashRef.current !== hash) {\n          callback(hash);\n        }\n        blockHashRef.current = hash;\n      });\n      sub.on('error', (err) => {\n        if (process.env.NODE_ENV === 'development') {\n          console.error(err);\n        }\n        sub.close();\n        spawnSub();\n      });\n    }\n  }, [tezos, callback]);\n}","import React from 'react';\nimport { useReady, useWallet } from '../dapp';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\n\nconst WalletButton = (props) => {\n  const ready = useReady();\n  const wallet = useWallet();\n  return ((ready) ? (\n    <div></div>\n  ) :(wallet ? (\n    <Button variant=\"contained\" color=\"secondary\"\n      disableElevation\n      size=\"small\"\n      style={{ position: 'absolute', right: '6%' }}\n      onClick={props.handleConnect}>\n      connect to wallet\n    </Button>\n    ):(\n    <Link href=\"https://thanoswallet.com/\" rel=\"noopener\" underline=\"none\" style={{\n      position: 'absolute',\n      right: '1%'\n    }}>\n      <Button variant=\"contained\" size=\"small\" disableElevation\n        style={{\n          backgroundColor: '#ed8936',\n          color: 'white',\n          fontWeight: 'bold',\n          }}>\n        Install Thanos\n      </Button>\n    </Link>)\n    )\n  );\n}\n\nexport default WalletButton;\n","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport '../index.css';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Grid from '@material-ui/core/Grid';\nimport WalletButton from './WalletButton';\nimport Button from '@material-ui/core/Button';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\n\nconst HeaderBar = (props) => {\n  const minWidth = useMediaQuery('(min-width:600px)');\n  var visible = minWidth?'visible':'hidden';\n  var dark = props.theme.palette.type === 'dark';\n  return (\n    <AppBar position=\"static\" color={dark?\"default\":\"secondary\"} style={{\n      boxShadow: \"none\",\n      opacity: 1 }}>\n      <Toolbar>\n        <a href=\"https://edukera.github.io/completium-landing/index.html\" target=\"_blank\" style={{ color: 'white', height: '32px' }}>\n          <Typography variant=\"h6\" style={{ position : 'absolute', fontFamily : 'Alegreya Sans SC, sans-serif' }}>\n            Completium\n          </Typography>\n        </a>\n        <Grid container justify=\"center\" alignItems=\"center\">\n          <Grid item>\n            <Typography variant=\"h6\" style={{\n              visibility: visible,\n              textAlign: 'center',\n              }}>\n              {props.appTitle}\n            </Typography>\n          </Grid>\n        </Grid>\n        { (props.istouch) ? (\n            <div></div>\n          ) : (\n            <WalletButton handleConnect={props.handleConnect}/>\n          )\n        }\n        <a href=\"https://edukera.github.io/completium-landing/docs/iot-miles/prerequisites\" target=\"_blank\">\n          <Button style={{ color: 'white' }} component=\"span\">\n            <HelpOutlineIcon/>\n          </Button>\n        </a>\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nexport default HeaderBar","import React from 'react';\nimport Container from '@material-ui/core/Container';\nimport Chip from '@material-ui/core/Chip';\nimport { contractAddress } from '../settings.js';\nimport DoneIcon from '@material-ui/icons/Check';\nimport Grid from '@material-ui/core/Grid';\n\nconst Bulb = (props) => {\n  const state = (props.switch.dateofstop > Date.now())?'on':'off';\n  React.useEffect(() => {\n    const timer=setTimeout(() => {\n      props.loadSwitchContent()\n    }, 500);\n    // Clear timeout if the component is unmounted\n    return () => {\n      clearTimeout(timer);\n    }\n  });\n  return (\n    <Container maxWidth=\"md\" style={{\n        marginTop: 50,\n        backgroundImage : \"url(\" + process.env.PUBLIC_URL + '/bulb'+ state +'.svg)',\n        backgroundRepeat  : 'no-repeat',\n        backgroundPosition: 'right 50% top 10%',\n        height: 410}}>\n        <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\" style={{}}>\n          <Grid>\n            <Chip\n              label={contractAddress}\n              color={ \"secondary\" }\n              onDelete={() => {}}\n              deleteIcon={  <DoneIcon /> }\n              variant=\"outlined\"\n              style={{ marginTop: 350 }}\n            />\n          </Grid>\n        </Grid>\n    </Container>\n  )\n}\n\nexport default Bulb","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport '../index.css';\nimport { Grid } from '@material-ui/core';\n\nconst Footer = (props) => {\n    return (\n      <AppBar position=\"static\" color=\"default\" style={{ boxShadow: \"none\", opacity: 1, heigh: 300 }}>\n        <Toolbar style={{ minHeight: 256 }}>\n          <Grid container justify=\"center\" alignItems=\"center\">\n            <Grid item>\n              <Typography variant=\"body2\" color=\"textSecondary\" style={{ flexGrow : 1 }} style={{\n                textAlign: 'center'\n              }}>\n                @copyright {props.appName} 2021\n              </Typography>\n            </Grid>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n    )\n  }\n\n  export default Footer","import React from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport QRcode from 'qrcode.react';\n\nconst QRPopup = (props) => {\n  return (\n    <Dialog open={props.open} onClick={props.close} >\n      <MuiDialogTitle>Scan Object's QR code</MuiDialogTitle>\n      <MuiDialogContent style={{ paddingBottom: 20 }}>\n        <QRcode\n          value={props.url}\n          size={300}\n          includeMargin={false}\n          bgColor={props.theme.palette.background.paper}\n          fgColor={ (props.theme.palette.type === 'light')? props.theme.palette.common.black:props.theme.palette.common.white}\n        />\n      </MuiDialogContent>\n    </Dialog>)\n}\n\nexport default QRPopup","import React from 'react';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { useAccountPkh, useTezos } from '../dapp';\n\nconst Account = (props) => {\n  /////////////////////////////////////////////////////////////////////////////\n  // The 'account' variable retrieved from 'dapp.js' is the connected account\n  // address\n  /////////////////////////////////////////////////////////////////////////////\n  const account = useAccountPkh();\n\n  /////////////////////////////////////////////////////////////////////////////\n  // The 'tezos' variable retrieved from 'dapp.js' is used to interact with the\n  // blockchain\n  /////////////////////////////////////////////////////////////////////////////\n  const tezos = useTezos();\n\n  const loadBalance = React.useCallback(async () => {\n    ///////////////////////////////////////////////////////////////////////////\n    // FIX ME\n    // RETRIEVE ACCOUNT BALANCE\n    // Method props.setBalance(string) is passed the account's balance\n    ///////////////////////////////////////////////////////////////////////////\n  }, [tezos, account, props.setBalance]);\n\n  // Load initial\n  if (props.balance === null) {\n    loadBalance();\n  }\n\n  return (\n      <Container style={{ height: '300px'}}>\n        <Container style={{ height: '40px' }}></Container>\n        <Paper style={{ opacity: 0.8, paddingLeft: 18, paddingRight: 28 }}>\n          { (false) ? (\n            <Grid container direction=\"row\" alignItems=\"center\" spacing={2} style={{ height: 64 }}>\n              <Grid item xs={12}>\n                <LinearProgress color=\"secondary\" />\n              </Grid>\n            </Grid>\n          ) : (\n            <Grid container direction=\"row\" alignItems=\"center\" spacing={2}>\n              <Grid item xs={2} direction=\"row\">\n                <Typography color=\"textSecondary\" style={{ textAlign: 'right' }}>Account :</Typography>\n              </Grid>\n              <Grid item xs={4}>\n                <Typography style={{\n                  fontFamily: 'Courier Prime, monospace',\n                }}>{account}</Typography>\n              </Grid>\n              {\n                <Grid item xs={6}>\n                  <Grid container direction=\"row\" justify=\"flex-end\" spacing={2}>\n                    <Grid item>\n                      <Typography color=\"textSecondary\">Balance:</Typography>\n                    </Grid>\n                    { (props.balance === null)? (\n                        <LinearProgress color=\"secondary\"></LinearProgress>\n                      ) : (\n                        <Grid item>\n                          <Typography>{props.balance} XTZ</Typography>\n                        </Grid>\n                      )}\n                  </Grid>\n                </Grid>\n              }\n            </Grid>\n          )}\n        </Paper>\n      </Container>\n    )\n}\n\nexport default Account","import React, { useEffect, useState } from \"react\";\nimport Footer from './Footer';\nimport Container from '@material-ui/core/Container';\nimport { appName, objectURL } from '../settings.js';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { Button, CardActionArea, CircularProgress, Divider, Typography } from '@material-ui/core';\nimport RoomIcon from '@material-ui/icons/Room';\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\nimport { contractAddress } from '../settings';\nimport QueryBuilderIcon from '@material-ui/icons/QueryBuilder';\nimport Slider from '@material-ui/core/Slider';\nimport QRPopup from './QRPopup';\nimport Account from './Account';\nimport { useTezos, useReady, useConnect, useAccountPkh } from '../dapp';\nimport { UnitValue } from '@taquito/taquito';\n\nconst getDurationLabel = (x,i) => {\n  var min = Math.floor(x);\n  var sec = (2*x) % 2;\n  var lbl = min.toString() + ((sec === 0)? '': '½');\n  return lbl;\n}\n\nconst SwitchOn = (props) => {\n  const tezos = useTezos();\n  const [duration, setDuration] = useState(0);\n  const [disable, setDisable] = useState(false);\n  const handleStart = (event) => {\n    ///////////////////////////////////////////////////////////////////////////\n    // FIX ME:\n    // Invode contract's 'start' entry point and provide the\n    // amount of tezos corresponding to the requested duration\n    ///////////////////////////////////////////////////////////////////////////\n  }\n  const handleDuration = (event) => {\n    setDuration(event.target.innerText)\n  }\n  return (\n    <Grid container\n      direction=\"row\"\n      justify=\"center\"\n      alignItems=\"center\"\n      spacing={2}\n      style={{ padding: 12, paddingLeft: 20, marginTop: 40 }}>\n      <Grid item xs={1}>\n        <QueryBuilderIcon />\n      </Grid>\n      <Grid item xs={11} style={{ paddingRight: 30 }}>\n        <Slider\n          defaultValue={0}\n          aria-labelledby=\"discrete-slider-small-steps\"\n          step={0.5}\n          marks\n          min={0}\n          max={15}\n          valueLabelDisplay='on'\n          color='secondary'\n          onChangeCommitted={handleDuration}\n          disabled={disable}\n        />\n      </Grid>\n      <Grid item xs={12} style={{ textAlign: 'center', marginTop: 0 }}>\n        <Typography color=\"textSecondary\">Price for {getDurationLabel(duration)} minute(s):</Typography>\n      </Grid>\n      <Grid item xs={12} style={{ textAlign: 'center' }}>\n        <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n          <Grid item>\n            <Typography variant='h6'>{ (props.switch.rate * duration).toFixed(2) }</Typography>\n          </Grid>\n          <Grid item>\n            <Typography color=\"textSecondary\" style={{ marginLeft: 10}}>XTZ</Typography>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item style={{ marginBottom: 20, marginTop: 36 }}>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          disableElevation\n          onClick={handleStart}\n          disabled={disable}\n        >\n          switch on\n        </Button>\n      </Grid>\n    </Grid>)\n}\n\nconst calculateTimeLeft = (difference) => {\n  let timeLeft = {};\n  if (difference > 0) {\n    timeLeft = {\n      days: Math.floor(difference / (1000 * 60 * 60 * 24)),\n      hours: Math.floor((difference / (1000 * 60 * 60)) % 24),\n      minutes: Math.floor((difference / 1000 / 60) % 60),\n      seconds: Math.floor((difference / 1000) % 60)\n    };\n  }\n  return timeLeft;\n}\n\nconst Charging = (props) => {\n  const tezos = useTezos();\n  const [timeLeft,setTimeLeft] = useState(calculateTimeLeft(props.dateofstop - Date.now()));\n  const [disable, setDisable] = useState(false);\n  useEffect(() => {\n    const timer=setTimeout(() => {\n      setTimeLeft(calculateTimeLeft(props.dateofstop - Date.now()));\n    }, 1000);\n    // Clear timeout if the component is unmounted\n    return () => {\n      clearTimeout(timer);\n    }\n  });\n  const percentComplete = Math.floor(100 * (Date.now() - props.dateofstart) / (props.dateofstop - props.dateofstart));\n  const timerComponents = [];\n  Object.keys(timeLeft).forEach((interval) => {\n    if (!timeLeft[interval]) {\n      return;\n    }\n    timerComponents.push(\n      <span>\n        {timeLeft[interval]} {interval}{\" \"}\n      </span>\n    );\n  })\n  const handleInterrupt = () => {\n    ///////////////////////////////////////////////////////////////////////////\n    // FIX ME:\n    // Invode contract's 'interrupt' entry point\n    ///////////////////////////////////////////////////////////////////////////\n  }\n  if (timerComponents.length === 0) {\n    var d = Date.now();\n    props.setBCSwitch({\n      dateofstart: d,\n      dateofstop: d,\n      rate: props.switch.rate,\n      user: props.switch.user\n    });\n  }\n\n  return (\n    <Grid container\n      direction=\"row\"\n      justify=\"center\"\n      alignItems=\"center\"\n      spacing={2}\n      style={{ padding: 12, paddingLeft: 20, marginTop: 0 }}>\n      <Grid item xs={12} style={{ textAlign: 'center' }}>\n        <CircularProgress\n        style={{ position: 'relative', left: '50px' }}\n          variant='static'\n          value='100'\n          size={100}\n          thickness={5}\n          color='primary'>\n        </CircularProgress>\n        <CircularProgress\n          style={{ position: 'relative', left: '-50px' }}\n          variant='static'\n          value={percentComplete}\n          size={100}\n          thickness={5}\n          color=\"secondary\">\n        </CircularProgress>\n        <Typography variant='h6' color='secondary' style={{ position: 'relative', top: '-70px', left: '5px' }}>\n          {percentComplete}%\n        </Typography>\n      </Grid>\n      <Grid item xs={12} style={{ textAlign: 'center' }}>\n        <Typography>\n          Time remaining: {timerComponents.length ? timerComponents : <span>Time's up!</span>}\n        </Typography>\n      </Grid>\n      <Grid item>\n        <Button\n          style={{ margin: 20 }}\n          variant=\"outlined\"\n          color=\"inherit\"\n          disableElevation\n          onClick={handleInterrupt}\n          disabled={disable}\n        >\n          interrupt\n        </Button>\n      </Grid>\n    </Grid>\n  )\n}\n\nconst Busy = (props) => {\n  const [timeLeft,setTimeLeft] = useState(calculateTimeLeft(props.dateofstop - Date.now()));\n  useEffect(() => {\n    const timer=setTimeout(() => {\n      setTimeLeft(calculateTimeLeft(props.dateofstop - Date.now()));\n    }, 1000);\n    // Clear timeout if the component is unmounted\n    return () => {\n      clearTimeout(timer);\n    }\n  });\n  const timerComponents = [];\n  Object.keys(timeLeft).forEach((interval) => {\n    if (!timeLeft[interval]) {\n      return;\n    }\n    timerComponents.push(\n      <span>\n        {timeLeft[interval]} {interval}{\" \"}\n      </span>\n    );\n  })\n  const handleInterrupt = () => {\n    var d = Date.now();\n    props.setBCSwitch({\n      dateofstart: d,\n      dateofstop: d,\n      rate: props.switch.rate,\n      user: props.switch.user\n    });\n  }\n  if (timerComponents.length === 0) {\n    handleInterrupt();\n  }\n  return (\n    <Container style={{ height: 301 }}>\n      <Grid container\n        direction=\"row\"\n        justify=\"center\"\n        alignItems=\"center\"\n        spacing={2}\n        style={{ padding: 12, paddingLeft: 20, marginTop: 0 }}>\n        <Grid item xs={12} style={{ textAlign: 'center' }}>\n          <Typography color=\"textSecondary\">Object has been switched on by:</Typography>\n        </Grid>\n        <Grid item xs={12} style={{ textAlign: 'center' }}>\n          <Typography style={{ fontFamily: 'Courier Prime, monospace' }}>\n            {props.user}\n          </Typography>\n        </Grid>\n        <Grid item xs={12} style={{ textAlign: 'center' }}>\n          <Typography color=\"textSecondary\">\n            Time remaining: {timerComponents.length ? timerComponents : <span>Time's up!</span>}\n          </Typography>\n        </Grid>\n        <Grid item></Grid>\n      </Grid>\n    </Container>\n  )\n}\n\nconst ConnectToWallet = (props) => {\n  return (\n    <Container style={{ height: 301, backgroundImage : \"url(\" + process.env.PUBLIC_URL + '/wifiplug.svg)',\n        backgroundRepeat  : 'no-repeat',\n        backgroundPosition: 'right 50% top 50%', }}>\n      <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ height: 301 }}>\n        <Typography color=\"textSecondary\">Connect to Wallet to interact with object.</Typography>\n      </Grid>\n    </Container>\n  )\n}\n\nconst Switch = props => {\n  const ready = useReady();\n  const accountAddress = useAccountPkh();\n  const [qropen, setQROpen]   = React.useState(false);\n  const [balance, setBalance] = React.useState(null);\n\n  const handleOpenQR = (event) => {\n    setQROpen(true);\n  }\n  const handleCloseQR = (event) => {\n    setQROpen(false);\n  }\n  const resetBalance = () => {\n    setBalance(null);\n  }\n  const duration = props.switch.dateofstop - props.switch.dateofstart;\n  const charging = (props.switch.dateofstop > Date.now()) && duration > 0;\n  return (<div>\n      <Container maxWidth=\"md\" style={{\n        height: 120}}>\n        { (ready)? (<Account balance={balance} setBalance={setBalance}/>):(<div />) }\n      </Container>\n      <Container maxWidth=\"sm\" style={{ marginBottom: 150 }}>\n        <Paper>\n          <Grid container\n            direction=\"row\"\n            justify=\"center\"\n            alignItems=\"center\"\n            spacing={2}\n            style={{ padding: 12, paddingLeft: 20 }}>\n            <Grid item xs={1}>\n              <RoomIcon />\n            </Grid>\n            <Grid item xs={11}>\n              <Typography\n              style={{\n                    fontFamily: 'Courier Prime, monospace',\n              }}>\n              {contractAddress}</Typography>\n            </Grid>\n            <Grid item xs={1}>\n              <LocalOfferIcon />\n            </Grid>\n            <Grid item xs={11}>\n              <Grid container direction=\"row\" spacing={1}>\n                <Grid item>\n                  <Typography>{(props.switch.rate).toFixed(2)}</Typography>\n                </Grid>\n                <Grid item>\n                  <Typography color=\"textSecondary\"> XTZ / minute</Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n          {/* _______________________________________________________ */}\n          <Divider></Divider>\n          { (ready)? (\n              (charging)? (\n                (accountAddress === props.switch.user) ? (\n                  <Charging\n                    dateofstart={props.switch.dateofstart}\n                    dateofstop={props.switch.dateofstop}\n                    switch={props.switch}\n                    setBCSwitch={props.setBCSwitch}\n                    openSnack={props.openSnack}\n                    closeSnack={props.closeSnack}\n                    resetBalance={resetBalance}\n                  />\n                ) : (\n                  <Busy\n                    user={props.switch.user}\n                    dateofstop={props.switch.dateofstop}\n                    switch={props.switch}\n                    setBCSwitch={props.setBCSwitch}\n                  />\n                )\n              ) : (\n                <SwitchOn\n                  duration={duration}\n                  switch={props.switch}\n                  loadSwitchContent={props.loadSwitchContent}\n                  openSnack={props.openSnack}\n                  closeSnack={props.closeSnack}\n                  resetBalance={resetBalance}\n                />\n              )\n            ) : (\n              <ConnectToWallet />\n            )\n          }\n          {/* _______________________________________________________ */}\n          <Divider></Divider>\n          <CardActionArea onClick={handleOpenQR}>\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={2} style={{ padding: 22 }}>\n              <Grid item xs={2}>\n                <Container style={{\n                  height: 50,\n                  backgroundImage : \"url(\" + process.env.PUBLIC_URL + '/qr' + ((props.theme.palette.type === 'dark')?'white':'black') + '.svg)',\n                  backgroundRepeat  : 'no-repeat',\n                }} />\n              </Grid>\n              <Grid item xs={10}>\n                <Typography>Click here to get the Object on your Mobile Device.</Typography>\n              </Grid>\n            </Grid>\n          </CardActionArea>\n        </Paper>\n      </Container>\n    <QRPopup url={objectURL} open={qropen} close={handleCloseQR} theme={props.theme}/>\n    <Footer appName={appName}></Footer>\n  </div>)\n}\n\nexport default Switch","import React from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst SnackMsg = (props) => {\n    return (\n      <Snackbar open={props.open} >\n        <Alert severity=\"info\" style={{\n            backgroundColor: props.theme.palette.secondary.main\n        }}>\n          Waiting for operation confirmation ...\n        </Alert>\n      </Snackbar>)\n}\n\nexport default SnackMsg","import React from 'react';\nimport './App.css';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { appTitle, nodeURL } from './settings.js';\nimport HeaderBar from './components/HeaderBar';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Bulb from './components/Bulb';\nimport Switch from './components/Switch';\nimport { TezosToolkit } from '@taquito/taquito';\nimport { contractAddress, appName, network } from './settings';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { DAppProvider, useReady, useConnect, useAccountPkh } from './dapp';\nimport SnackMsg from './components/SnackMsg';\n\nfunction App() {\n  return (\n    ///////////////////////////////////////////////////////////////////////////\n    // FIX ME\n    // Wrap the App's body with <DAppProvider> tag/function in order to benefit\n    // from wallet's service as defined in dapp.js\n    ///////////////////////////////////////////////////////////////////////////\n    <React.Suspense fallback={null}>\n      <PageRouter />\n    </React.Suspense>\n  );\n}\n\nfunction isTouchDevice () {\n  return (navigator.maxTouchPoints || 'ontouchstart' in document.documentElement);\n}\n\nfunction PageRouter () {\n  var ready = useReady();\n  var connect = useConnect();\n  const [bcSwitch, setBCSwitch] = React.useState(null);\n  const [viewSnack, setViewSnack] = React.useState(false);\n  const prefersDarkMode = false /*useMediaQuery('(prefers-color-scheme: dark)')*/;\n  const theme = React.useMemo(\n    () =>\n      createMuiTheme({\n        palette: {\n          type: prefersDarkMode ? 'dark' : 'light',\n          primary: {\n            light: '#F5F5F5',\n            main: '#D3D3D3',\n            dark: '#A9A9A9'\n          },\n          secondary: {\n            light: '#81c784',\n            main: '#4caf50',\n            dark: '#388e3c',\n            contrastText: '#fff',\n          }\n        },\n      }),\n    [prefersDarkMode],\n  );\n  const handleConnect = React.useCallback(async () => {\n    try {\n      await connect(network);\n    } catch (err) {\n      alert(err.message);\n    };\n  }, [connect]);\n  async function loadSwitchContent () {\n    try {\n      ///////////////////////////////////////////////////////////////////////////\n      // FIX ME:\n      // Read contract storage:\n      // * rate\n      // * date of start\n      // * date of stop\n      // * user\n      ///////////////////////////////////////////////////////////////////////////\n    } catch (error) {\n      console.log(`Error: ${error}`);\n    }\n  }\n  if (bcSwitch === null) {\n    loadSwitchContent();\n  }\n  const openSnack = () => {\n    setViewSnack(true);\n  }\n  const closeSnack = () => {\n    setViewSnack(false);\n  }\n  return (\n    <ThemeProvider theme={theme}>\n    <CssBaseline/>\n    <HeaderBar theme={theme} appTitle={appTitle} handleConnect={handleConnect} istouch={isTouchDevice()}/>\n    { (bcSwitch === null)? (\n        <LinearProgress color=\"secondary\"></LinearProgress>\n      ) : (\n      (isTouchDevice())? (\n        <Bulb loadSwitchContent={loadSwitchContent} switch={bcSwitch}/>\n      ) : (\n        <Switch\n          ready={ready}\n          theme={theme}\n          switch={bcSwitch}\n          loadSwitchContent={loadSwitchContent}\n          setBCSwitch={setBCSwitch}\n          openSnack={openSnack}\n          closeSnack={closeSnack}\n        />\n    ))}\n    <SnackMsg open={viewSnack} theme={theme}/>\n    </ThemeProvider>\n    )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}