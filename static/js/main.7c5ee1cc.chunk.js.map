{"version":3,"sources":["settings.js","dapp.js","components/HeaderBar.js","components/Bulb.js","components/Footer.js","components/QRPopup.js","components/Account.js","components/Switch.js","components/SnackMsg.js","App.js","reportWebVitals.js","index.js"],"names":["contractAddress","appName","nodeURL","constate","React","useState","wallet","tezos","accountPkh","setState","ready","Boolean","useEffect","ThanosWallet","onAvailabilityChange","available","connect","useCallback","network","opts","a","Error","tzs","toTezos","pkh","alert","message","v","DAppProvider","useWallet","useTezos","useAccountPkh","useReady","useConnect","HeaderBar","props","visible","useMediaQuery","dark","theme","palette","type","AppBar","position","color","style","boxShadow","opacity","Toolbar","Typography","variant","fontFamily","Grid","container","justify","alignItems","item","visibility","textAlign","appTitle","istouch","Button","disableElevation","size","right","onClick","handleConnect","Link","href","rel","underline","backgroundColor","fontWeight","Bulb","state","switch","dateofstop","Date","now","timer","setTimeout","loadSwitchContent","clearTimeout","Container","maxWidth","marginTop","backgroundImage","backgroundRepeat","backgroundPosition","height","direction","Chip","label","onDelete","deleteIcon","Footer","heigh","minHeight","flexGrow","QRPopup","Dialog","open","close","paddingBottom","value","url","includeMargin","bgColor","background","paper","fgColor","common","black","white","Account","address","loadBalance","tz","getBalance","bal","setBalance","format","toString","balance","Paper","paddingLeft","paddingRight","spacing","xs","LinearProgress","getDurationLabel","x","i","sec","Math","floor","SwitchOn","duration","setDuration","disable","setDisable","padding","Slider","defaultValue","aria-labelledby","step","marks","min","max","valueLabelDisplay","onChangeCommitted","event","target","innerText","disabled","rate","toFixed","marginLeft","marginBottom","at","then","contract","price","console","log","methods","start","UnitValue","send","amount","fee","op","opHash","openSnack","receipt","closeSnack","resetBalance","calculateTimeLeft","difference","timeLeft","days","hours","minutes","seconds","Charging","setTimeLeft","percentComplete","dateofstart","timerComponents","Object","keys","forEach","interval","push","length","d","setBCSwitch","user","CircularProgress","left","thickness","top","margin","interrupt","Busy","handleInterrupt","ConnectToWallet","Switch","accountAddress","qropen","setQROpen","charging","Divider","CardActionArea","Alert","elevation","SnackMsg","Snackbar","severity","secondary","main","isTouchDevice","navigator","maxTouchPoints","document","documentElement","PageRouter","bcSwitch","viewSnack","setViewSnack","useMemo","createMuiTheme","primary","light","contrastText","Tezos","TezosToolkit","storage","cstorage","parseInt","ThemeProvider","CssBaseline","App","Suspense","fallback","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7c5ee1cc.chunk.js","sourcesContent":["export const contractAddress = \"KT1CxHBiCSvmXn9kXCbhPfdGDAggGG9ktQEX\"\n\nexport const githubUrl = \"https://github.com/edukera/completium-dapp-ideabox\"\n\nexport const appTitle = \"Switch on a Connected Object!\"\n\nexport const network = \"delphinet\"\n\nexport const appName = \"IotCorp.\"\n\nexport const objectURL = 'http://edukera.github.io/completium-dapp-iot'\n\nexport const nodeURL = 'https://delphinet-tezos.giganode.io'\n","import React from 'react';\nimport constate from 'constate';\nimport { ThanosWallet } from '@thanos-wallet/dapp';\n\nexport const [\n  DAppProvider,\n  useWallet,\n  useTezos,\n  useAccountPkh,\n  useReady,\n  useConnect,\n] = constate(\n  useDApp,\n  (v) => v.wallet,\n  (v) => v.tezos,\n  (v) => v.accountPkh,\n  (v) => v.ready,\n  (v) => v.connect\n);\n\nfunction useDApp({ appName }) {\n  const [{ wallet, tezos, accountPkh }, setState] = React.useState(() => ({\n    wallet: null,\n    tezos: null,\n    accountPkh: null,\n  }));\n\n  const ready = Boolean(tezos);\n\n  React.useEffect(() => {\n    return ThanosWallet.onAvailabilityChange((available) => {\n      setState({\n        wallet: available ? new ThanosWallet(appName) : null,\n        tezos: null,\n        accountPkh: null,\n      });\n    });\n  }, [setState, appName]);\n\n  const connect = React.useCallback(\n    async (network, opts) => {\n      try {\n        if (!wallet) {\n          throw new Error('Thanos Wallet not available');\n        }\n        await wallet.connect(network, opts);\n        const tzs = wallet.toTezos();\n        const pkh = await tzs.wallet.pkh();\n        setState({\n          wallet,\n          tezos: tzs,\n          accountPkh: pkh,\n        });\n      } catch (err) {\n        alert(`Failed to connect ThanosWallet: ${err.message}`);\n      }\n    },\n    [setState, wallet]\n  );\n\n  return {\n    wallet,\n    tezos,\n    accountPkh,\n    ready,\n    connect,\n  };\n}\n\nexport function useOnBlock(tezos, callback) {\n  const blockHashRef = React.useRef();\n\n  React.useEffect(() => {\n    let sub;\n    spawnSub();\n    return () => sub.close();\n\n    function spawnSub() {\n      sub = tezos.stream.subscribe('head');\n\n      sub.on('data', (hash) => {\n        if (blockHashRef.current && blockHashRef.current !== hash) {\n          callback(hash);\n        }\n        blockHashRef.current = hash;\n      });\n      sub.on('error', (err) => {\n        if (process.env.NODE_ENV === 'development') {\n          console.error(err);\n        }\n        sub.close();\n        spawnSub();\n      });\n    }\n  }, [tezos, callback]);\n}","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport '../index.css';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport { useReady, useWallet } from '../dapp';\n\nconst HeaderBar = (props) => {\n  const ready = useReady();\n  const wallet = useWallet();\n  const minWidth = useMediaQuery('(min-width:600px)');\n  var visible = minWidth?'visible':'hidden';\n  var dark = props.theme.palette.type === 'dark';\n  return (\n    <AppBar position=\"static\" color={dark?\"default\":\"secondary\"} style={{\n      boxShadow: \"none\",\n      opacity: 1 }}>\n      <Toolbar>\n        <Typography variant=\"h6\" style={{ position: 'absolute', fontFamily : 'Alegreya Sans SC, sans-serif' }}>\n          Completium\n        </Typography>\n        <Grid container justify=\"center\" alignItems=\"center\">\n          <Grid item>\n            <Typography variant=\"h6\" style={{\n              visibility: visible,\n              textAlign: 'center',\n              }}>\n              {props.appTitle}\n            </Typography>\n          </Grid>\n        </Grid>\n        { (props.istouch) ? (\n            <div></div>\n          ) : (\n            (ready) ? (\n              <div></div>\n            ) : (wallet ? (\n              <Button variant=\"contained\" color=\"secondary\"\n                disableElevation\n                size=\"small\"\n                style={{ position: 'absolute', right: '1%' }}\n                onClick={props.handleConnect}>\n                connect to wallet\n              </Button>\n            ):(\n              <Link href=\"https://thanoswallet.com/\" rel=\"noopener\" underline=\"none\" style={{\n                position: 'absolute',\n                right: '1%'\n              }}>\n                <Button variant=\"contained\" size=\"small\" disableElevation\n                  style={{\n                    backgroundColor: '#ed8936',\n                    color: 'white',\n                    fontWeight: 'bold',\n                     }}>\n                  Install Thanos\n                </Button>\n              </Link>\n            ))\n          )\n        }\n\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nexport default HeaderBar","import React from 'react';\nimport Container from '@material-ui/core/Container';\nimport Chip from '@material-ui/core/Chip';\nimport { contractAddress } from '../settings.js';\nimport DoneIcon from '@material-ui/icons/Check';\nimport Grid from '@material-ui/core/Grid';\n\nconst Bulb = (props) => {\n  const state = (props.switch.dateofstop > Date.now())?'on':'off';\n  React.useEffect(() => {\n    const timer=setTimeout(() => {\n      props.loadSwitchContent()\n    }, 500);\n    // Clear timeout if the component is unmounted\n    return () => {\n      clearTimeout(timer);\n    }\n  });\n  return (\n    <Container maxWidth=\"md\" style={{\n        marginTop: 50,\n        backgroundImage : \"url(\" + process.env.PUBLIC_URL + '/bulb'+ state +'.svg)',\n        backgroundRepeat  : 'no-repeat',\n        backgroundPosition: 'right 50% top 10%',\n        height: 410}}>\n        <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\" style={{}}>\n          <Grid>\n            <Chip\n              label={contractAddress}\n              color={ \"secondary\" }\n              onDelete={() => {}}\n              deleteIcon={  <DoneIcon /> }\n              variant=\"outlined\"\n              style={{ marginTop: 350 }}\n            />\n          </Grid>\n        </Grid>\n    </Container>\n  )\n}\n\nexport default Bulb","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport '../index.css';\nimport { Grid } from '@material-ui/core';\n\nconst Footer = (props) => {\n    return (\n      <AppBar position=\"static\" color=\"default\" style={{ boxShadow: \"none\", opacity: 1, heigh: 300 }}>\n        <Toolbar style={{ minHeight: 256 }}>\n          <Grid container justify=\"center\" alignItems=\"center\">\n            <Grid item>\n              <Typography variant=\"body2\" color=\"textSecondary\" style={{ flexGrow : 1 }} style={{\n                textAlign: 'center'\n              }}>\n                @copyright {props.appName} 2021\n              </Typography>\n            </Grid>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n    )\n  }\n\n  export default Footer","import React from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport QRcode from 'qrcode.react';\n\nconst QRPopup = (props) => {\n  return (\n    <Dialog open={props.open} onClick={props.close} >\n      <MuiDialogTitle>Scan Object's QR code</MuiDialogTitle>\n      <MuiDialogContent style={{ paddingBottom: 20 }}>\n        <QRcode\n          value={props.url}\n          size={300}\n          includeMargin={false}\n          bgColor={props.theme.palette.background.paper}\n          fgColor={ (props.theme.palette.type === 'light')? props.theme.palette.common.black:props.theme.palette.common.white}\n        />\n      </MuiDialogContent>\n    </Dialog>)\n}\n\nexport default QRPopup","import React from 'react';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { useAccountPkh, useTezos } from '../dapp';\n\nconst Account = (props) => {\n  const address = useAccountPkh();\n  const tezos = useTezos();\n\n  const loadBalance = React.useCallback(async () => {\n    const bal = await tezos.tz.getBalance(address);\n    props.setBalance(tezos.format('mutez', 'tz', bal).toString());\n  }, [tezos, address, props.setBalance]);\n\n  // Load initial\n  if (props.balance === null) {\n    loadBalance();\n  }\n\n  return (\n      <Container style={{ height: '300px'}}>\n        <Container style={{ height: '40px' }}></Container>\n        <Paper style={{ opacity: 0.8, paddingLeft: 18, paddingRight: 28 }}>\n          { (false) ? (\n            <Grid container direction=\"row\" alignItems=\"center\" spacing={2} style={{ height: 64 }}>\n              <Grid item xs={12}>\n                <LinearProgress color=\"secondary\" />\n              </Grid>\n            </Grid>\n          ) : (\n            <Grid container direction=\"row\" alignItems=\"center\" spacing={2}>\n              <Grid item xs={2} direction=\"row\">\n                <Typography color=\"textSecondary\" style={{ textAlign: 'right' }}>Account :</Typography>\n              </Grid>\n              <Grid item xs={4}>\n                <Typography style={{\n                  fontFamily: 'Courier Prime, monospace',\n                }}>{address}</Typography>\n              </Grid>\n              {\n                <Grid item xs={6}>\n                  <Grid container direction=\"row\" justify=\"flex-end\" spacing={2}>\n                    <Grid item>\n                      <Typography color=\"textSecondary\">Balance:</Typography>\n                    </Grid>\n                    { (props.balance === null)? (\n                        <LinearProgress color=\"secondary\"></LinearProgress>\n                      ) : (\n                        <Grid item>\n                          <Typography>{props.balance} XTZ</Typography>\n                        </Grid>\n                      )}\n                  </Grid>\n                </Grid>\n              }\n            </Grid>\n          )}\n        </Paper>\n      </Container>\n    )\n}\n\nexport default Account","import React, { useEffect, useState } from \"react\";\nimport Footer from './Footer';\nimport Container from '@material-ui/core/Container';\nimport { appName, objectURL } from '../settings.js';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { Button, CardActionArea, CircularProgress, Divider, Typography } from '@material-ui/core';\nimport RoomIcon from '@material-ui/icons/Room';\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\nimport { contractAddress } from '../settings';\nimport QueryBuilderIcon from '@material-ui/icons/QueryBuilder';\nimport Slider from '@material-ui/core/Slider';\nimport QRPopup from './QRPopup';\nimport Account from './Account';\nimport { useTezos, useReady, useConnect, useAccountPkh } from '../dapp';\nimport { UnitValue } from '@taquito/taquito';\n\nconst getDurationLabel = (x,i) => {\n  var min = Math.floor(x);\n  var sec = (2*x) % 2;\n  var lbl = min.toString() + ((sec === 0)? '': '½');\n  return lbl;\n}\n\nconst SwitchOn = (props) => {\n  const tezos = useTezos();\n  const [duration, setDuration] = useState(0);\n  const [disable, setDisable] = useState(false);\n  const handleStart = (event) => {\n    tezos.wallet.at(contractAddress).then(contract => {\n      var price = (props.switch.rate * duration).toFixed(6);\n      console.log(`calling start with ${price} XTZ`);\n      contract.methods.start(UnitValue).send({ amount : price, fee : '0.1' }).then( op => {\n        var start = Date.now();\n        console.log(`waiting for ${op.opHash} to be confirmed`);\n        setDisable(true);\n        props.openSnack();\n        op.receipt().then(() => {\n          setDisable(false);\n          props.closeSnack();\n          props.resetBalance();\n          props.loadSwitchContent();\n        });\n      })\n    });\n  }\n  const handleDuration = (event) => {\n    setDuration(event.target.innerText)\n  }\n  return (\n    <Grid container\n      direction=\"row\"\n      justify=\"center\"\n      alignItems=\"center\"\n      spacing={2}\n      style={{ padding: 12, paddingLeft: 20, marginTop: 40 }}>\n      <Grid item xs={1}>\n        <QueryBuilderIcon />\n      </Grid>\n      <Grid item xs={11} style={{ paddingRight: 30 }}>\n        <Slider\n          defaultValue={0}\n          aria-labelledby=\"discrete-slider-small-steps\"\n          step={0.5}\n          marks\n          min={0}\n          max={15}\n          valueLabelDisplay='on'\n          color='secondary'\n          onChangeCommitted={handleDuration}\n          disabled={disable}\n        />\n      </Grid>\n      <Grid item xs={12} style={{ textAlign: 'center', marginTop: 0 }}>\n        <Typography color=\"textSecondary\">Price for {getDurationLabel(duration)} minute(s):</Typography>\n      </Grid>\n      <Grid item xs={12} style={{ textAlign: 'center' }}>\n        <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\n          <Grid item>\n            <Typography variant='h6'>{ (props.switch.rate * duration).toFixed(2) }</Typography>\n          </Grid>\n          <Grid item>\n            <Typography color=\"textSecondary\" style={{ marginLeft: 10}}>XTZ</Typography>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item style={{ marginBottom: 20, marginTop: 36 }}>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          disableElevation\n          onClick={handleStart}\n          disabled={disable}\n        >\n          switch on\n        </Button>\n      </Grid>\n    </Grid>)\n}\n\nconst calculateTimeLeft = (difference) => {\n  let timeLeft = {};\n  if (difference > 0) {\n    timeLeft = {\n      days: Math.floor(difference / (1000 * 60 * 60 * 24)),\n      hours: Math.floor((difference / (1000 * 60 * 60)) % 24),\n      minutes: Math.floor((difference / 1000 / 60) % 60),\n      seconds: Math.floor((difference / 1000) % 60)\n    };\n  }\n  return timeLeft;\n}\n\nconst Charging = (props) => {\n  const tezos = useTezos();\n  const [timeLeft,setTimeLeft] = useState(calculateTimeLeft(props.dateofstop - Date.now()));\n  const [disable, setDisable] = useState(false);\n  useEffect(() => {\n    const timer=setTimeout(() => {\n      setTimeLeft(calculateTimeLeft(props.dateofstop - Date.now()));\n    }, 1000);\n    // Clear timeout if the component is unmounted\n    return () => {\n      clearTimeout(timer);\n    }\n  });\n  const percentComplete = Math.floor(100 * (Date.now() - props.dateofstart) / (props.dateofstop - props.dateofstart));\n  const timerComponents = [];\n  Object.keys(timeLeft).forEach((interval) => {\n    if (!timeLeft[interval]) {\n      return;\n    }\n    timerComponents.push(\n      <span>\n        {timeLeft[interval]} {interval}{\" \"}\n      </span>\n    );\n  })\n  const handleInterrupt = () => {\n    tezos.wallet.at(contractAddress).then(contract => {\n      contract.methods.interrupt(UnitValue).send().then( op => {\n        var d = Date.now();\n        console.log(`waiting for ${op.opHash} to be confirmed`);\n        setDisable(true);\n        props.openSnack();\n        op.receipt().then(() => {\n          setDisable(false);\n          props.closeSnack();\n          props.resetBalance();\n          props.setBCSwitch({\n            dateofstart: d,\n            dateofstop: d,\n            rate: props.switch.rate,\n            user: props.switch.user\n          });\n        });\n      })\n    });\n  }\n  if (timerComponents.length === 0) {\n    var d = Date.now();\n    props.setBCSwitch({\n      dateofstart: d,\n      dateofstop: d,\n      rate: props.switch.rate,\n      user: props.switch.user\n    });\n  }\n\n  return (\n    <Grid container\n      direction=\"row\"\n      justify=\"center\"\n      alignItems=\"center\"\n      spacing={2}\n      style={{ padding: 12, paddingLeft: 20, marginTop: 0 }}>\n      <Grid item xs={12} style={{ textAlign: 'center' }}>\n        <CircularProgress\n        style={{ position: 'relative', left: '50px' }}\n          variant='static'\n          value='100'\n          size={100}\n          thickness={5}\n          color='primary'>\n        </CircularProgress>\n        <CircularProgress\n          style={{ position: 'relative', left: '-50px' }}\n          variant='static'\n          value={percentComplete}\n          size={100}\n          thickness={5}\n          color=\"secondary\">\n        </CircularProgress>\n        <Typography variant='h6' color='secondary' style={{ position: 'relative', top: '-70px', left: '5px' }}>\n          {percentComplete}%\n        </Typography>\n      </Grid>\n      <Grid item xs={12} style={{ textAlign: 'center' }}>\n        <Typography>\n          Time remaining: {timerComponents.length ? timerComponents : <span>Time's up!</span>}\n        </Typography>\n      </Grid>\n      <Grid item>\n        <Button\n          style={{ margin: 20 }}\n          variant=\"outlined\"\n          color=\"inherit\"\n          disableElevation\n          onClick={handleInterrupt}\n          disabled={disable}\n        >\n          interrupt\n        </Button>\n      </Grid>\n    </Grid>\n  )\n}\n\nconst Busy = (props) => {\n  const [timeLeft,setTimeLeft] = useState(calculateTimeLeft(props.dateofstop - Date.now()));\n  useEffect(() => {\n    const timer=setTimeout(() => {\n      setTimeLeft(calculateTimeLeft(props.dateofstop - Date.now()));\n    }, 1000);\n    // Clear timeout if the component is unmounted\n    return () => {\n      clearTimeout(timer);\n    }\n  });\n  const timerComponents = [];\n  Object.keys(timeLeft).forEach((interval) => {\n    if (!timeLeft[interval]) {\n      return;\n    }\n    timerComponents.push(\n      <span>\n        {timeLeft[interval]} {interval}{\" \"}\n      </span>\n    );\n  })\n  const handleInterrupt = () => {\n    var d = Date.now();\n    props.setBCSwitch({\n      dateofstart: d,\n      dateofstop: d,\n      rate: props.switch.rate,\n      user: props.switch.user\n    });\n  }\n  if (timerComponents.length === 0) {\n    handleInterrupt();\n  }\n  return (\n    <Container style={{ height: 301 }}>\n      <Grid container\n        direction=\"row\"\n        justify=\"center\"\n        alignItems=\"center\"\n        spacing={2}\n        style={{ padding: 12, paddingLeft: 20, marginTop: 0 }}>\n        <Grid item xs={12} style={{ textAlign: 'center' }}>\n          <Typography color=\"textSecondary\">Object has been switched on by:</Typography>\n        </Grid>\n        <Grid item xs={12} style={{ textAlign: 'center' }}>\n          <Typography style={{ fontFamily: 'Courier Prime, monospace' }}>\n            {props.user}\n          </Typography>\n        </Grid>\n        <Grid item xs={12} style={{ textAlign: 'center' }}>\n          <Typography color=\"textSecondary\">\n            Time remaining: {timerComponents.length ? timerComponents : <span>Time's up!</span>}\n          </Typography>\n        </Grid>\n        <Grid item></Grid>\n      </Grid>\n    </Container>\n  )\n}\n\nconst ConnectToWallet = (props) => {\n  return (\n    <Container style={{ height: 301, backgroundImage : \"url(\" + process.env.PUBLIC_URL + '/wifiplug.svg)',\n        backgroundRepeat  : 'no-repeat',\n        backgroundPosition: 'right 50% top 50%', }}>\n      <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" style={{ height: 301 }}>\n        <Typography color=\"textSecondary\">Connect to Wallet to interact with object.</Typography>\n      </Grid>\n    </Container>\n  )\n}\n\nconst Switch = props => {\n  const ready = useReady();\n  const accountAddress = useAccountPkh();\n  const [qropen, setQROpen]   = React.useState(false);\n  const [balance, setBalance] = React.useState(null);\n\n  const handleOpenQR = (event) => {\n    setQROpen(true);\n  }\n  const handleCloseQR = (event) => {\n    setQROpen(false);\n  }\n  const resetBalance = () => {\n    setBalance(null);\n  }\n  const duration = props.switch.dateofstop - props.switch.dateofstart;\n  const charging = (props.switch.dateofstop > Date.now()) && duration > 0;\n  return (<div>\n      <Container maxWidth=\"md\" style={{\n        height: 120}}>\n        { (ready)? (<Account balance={balance} setBalance={setBalance}/>):(<div />) }\n      </Container>\n      <Container maxWidth=\"sm\" style={{ marginBottom: 150 }}>\n        <Paper>\n          <Grid container\n            direction=\"row\"\n            justify=\"center\"\n            alignItems=\"center\"\n            spacing={2}\n            style={{ padding: 12, paddingLeft: 20 }}>\n            <Grid item xs={1}>\n              <RoomIcon />\n            </Grid>\n            <Grid item xs={11}>\n              <Typography\n              style={{\n                    fontFamily: 'Courier Prime, monospace',\n              }}>\n              {contractAddress}</Typography>\n            </Grid>\n            <Grid item xs={1}>\n              <LocalOfferIcon />\n            </Grid>\n            <Grid item xs={11}>\n              <Grid container direction=\"row\" spacing={1}>\n                <Grid item>\n                  <Typography>{(props.switch.rate).toFixed(2)}</Typography>\n                </Grid>\n                <Grid item>\n                  <Typography color=\"textSecondary\"> XTZ / minute</Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Grid>\n          {/* _______________________________________________________ */}\n          <Divider></Divider>\n          { (ready)? (\n              (charging)? (\n                (accountAddress === props.switch.user) ? (\n                  <Charging\n                    dateofstart={props.switch.dateofstart}\n                    dateofstop={props.switch.dateofstop}\n                    switch={props.switch}\n                    setBCSwitch={props.setBCSwitch}\n                    openSnack={props.openSnack}\n                    closeSnack={props.closeSnack}\n                    resetBalance={resetBalance}\n                  />\n                ) : (\n                  <Busy\n                    user={props.switch.user}\n                    dateofstop={props.switch.dateofstop}\n                    switch={props.switch}\n                    setBCSwitch={props.setBCSwitch}\n                  />\n                )\n              ) : (\n                <SwitchOn\n                  duration={duration}\n                  switch={props.switch}\n                  loadSwitchContent={props.loadSwitchContent}\n                  openSnack={props.openSnack}\n                  closeSnack={props.closeSnack}\n                  resetBalance={resetBalance}\n                />\n              )\n            ) : (\n              <ConnectToWallet />\n            )\n          }\n          {/* _______________________________________________________ */}\n          <Divider></Divider>\n          <CardActionArea onClick={handleOpenQR}>\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={2} style={{ padding: 22 }}>\n              <Grid item xs={2}>\n                <Container style={{\n                  height: 50,\n                  backgroundImage : \"url(\" + process.env.PUBLIC_URL + '/qr' + ((props.theme.palette.type === 'dark')?'white':'black') + '.svg)',\n                  backgroundRepeat  : 'no-repeat',\n                }} />\n              </Grid>\n              <Grid item xs={10}>\n                <Typography>Click here to get the Object on your Mobile Device.</Typography>\n              </Grid>\n            </Grid>\n          </CardActionArea>\n        </Paper>\n      </Container>\n    <QRPopup url={objectURL} open={qropen} close={handleCloseQR} theme={props.theme}/>\n    <Footer appName={appName}></Footer>\n  </div>)\n}\n\nexport default Switch","import React from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst SnackMsg = (props) => {\n    return (\n      <Snackbar open={props.open} >\n        <Alert severity=\"info\" style={{\n            backgroundColor: props.theme.palette.secondary.main\n        }}>\n          Waiting for operation confirmation ...\n        </Alert>\n      </Snackbar>)\n}\n\nexport default SnackMsg","import React from 'react';\nimport './App.css';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { appTitle, nodeURL } from './settings.js';\nimport HeaderBar from './components/HeaderBar';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Bulb from './components/Bulb';\nimport Switch from './components/Switch';\nimport { TezosToolkit } from '@taquito/taquito';\nimport { contractAddress, appName, network } from './settings';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { DAppProvider, useReady, useConnect, useAccountPkh } from './dapp';\nimport SnackMsg from './components/SnackMsg';\n\nfunction App() {\n  return (\n    <DAppProvider appName={appName}>\n      <React.Suspense fallback={null}>\n        <PageRouter />\n      </React.Suspense>\n    </DAppProvider>\n  );\n}\n\nfunction isTouchDevice () {\n  return (navigator.maxTouchPoints || 'ontouchstart' in document.documentElement);\n}\n\nfunction PageRouter () {\n  var ready = useReady();\n  var connect = useConnect();\n  const [bcSwitch, setBCSwitch] = React.useState(null);\n  const [viewSnack, setViewSnack] = React.useState(false);\n  const prefersDarkMode = false /*useMediaQuery('(prefers-color-scheme: dark)')*/;\n  const theme = React.useMemo(\n    () =>\n      createMuiTheme({\n        palette: {\n          type: prefersDarkMode ? 'dark' : 'light',\n          primary: {\n            light: '#F5F5F5',\n            main: '#D3D3D3',\n            dark: '#A9A9A9'\n          },\n          secondary: {\n            light: '#81c784',\n            main: '#4caf50',\n            dark: '#388e3c',\n            contrastText: '#fff',\n          }\n        },\n      }),\n    [prefersDarkMode],\n  );\n  const handleConnect = React.useCallback(async () => {\n    try {\n      await connect(network);\n    } catch (err) {\n      alert(err.message);\n    };\n  }, [connect]);\n  async function loadSwitchContent () {\n    try {\n      const Tezos = new TezosToolkit(nodeURL);\n      var contract  = await Tezos.contract.at(contractAddress);\n      var cstorage   = await contract.storage();\n      var dateofstart = new Date(cstorage.dateofstart);\n      var dateofstop = new Date(cstorage.dateofstop);\n      var rate = parseInt(0+cstorage.rate[4])/parseInt(0+cstorage.rate[3]);\n      var user = cstorage.user;\n      setBCSwitch({\n        dateofstart: dateofstart,\n        dateofstop : dateofstop,\n        rate: rate,\n        user: user,\n      });\n    } catch (error) {\n      console.log(`Error: ${error}`);\n    }\n  }\n  if (bcSwitch === null) {\n    loadSwitchContent();\n  }\n  const openSnack = () => {\n    setViewSnack(true);\n  }\n  const closeSnack = () => {\n    setViewSnack(false);\n  }\n  return (\n    <ThemeProvider theme={theme}>\n    <CssBaseline/>\n    <HeaderBar theme={theme} appTitle={appTitle} handleConnect={handleConnect} istouch={isTouchDevice()}/>\n    { (bcSwitch === null)? (\n        <LinearProgress color=\"secondary\"></LinearProgress>\n      ) : (\n      (isTouchDevice())? (\n        <Bulb loadSwitchContent={loadSwitchContent} switch={bcSwitch}/>\n      ) : (\n        <Switch\n          ready={ready}\n          theme={theme}\n          switch={bcSwitch}\n          loadSwitchContent={loadSwitchContent}\n          setBCSwitch={setBCSwitch}\n          openSnack={openSnack}\n          closeSnack={closeSnack}\n        />\n    ))}\n    <SnackMsg open={viewSnack} theme={theme}/>\n    </ThemeProvider>\n    )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}